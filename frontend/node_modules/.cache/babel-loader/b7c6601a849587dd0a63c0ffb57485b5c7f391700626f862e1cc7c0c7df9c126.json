{"ast":null,"code":"import { fetchProductsBatch } from \"../../services/ProductService\";\nexport async function fetchNewProducts({\n  setProducts,\n  currentPage,\n  setHasEndingPosts\n}) {\n  const newProducts = await fetchProductsBatch(currentPage, 3);\n  setProducts(oldProducts => [...oldProducts, ...newProducts]);\n  if (newProducts.length < 3) {\n    setHasEndingPosts(true);\n  }\n}\nexport function newObeserver({\n  options,\n  loading,\n  hasEndingPosts,\n  setCurrentPage\n}) {\n  const observer = new IntersectionObserver(entries => {\n    const target = entries[0];\n    if (target.isIntersecting && !loading && !hasEndingPosts) {\n      setCurrentPage(oldPage => oldPage + 1);\n    }\n  }, options);\n  return observer;\n}","map":{"version":3,"names":["fetchProductsBatch","fetchNewProducts","setProducts","currentPage","setHasEndingPosts","newProducts","oldProducts","length","newObeserver","options","loading","hasEndingPosts","setCurrentPage","observer","IntersectionObserver","entries","target","isIntersecting","oldPage"],"sources":["/home/gabriel/Desktop/projetos2024/nilo/frontend/src/component/ProductList/productListUtils.js"],"sourcesContent":["\nimport { fetchProductsBatch } from \"../../services/ProductService\";\n\nexport async function fetchNewProducts ({setProducts,currentPage,setHasEndingPosts}){\n    const newProducts = await fetchProductsBatch(currentPage, 3);\n    setProducts((oldProducts) => [...oldProducts, ...newProducts]); \n    if(newProducts.length <3){\n        setHasEndingPosts(true)\n    }\n}\n\nexport function newObeserver({options, loading, hasEndingPosts, setCurrentPage}){\n    const observer = new IntersectionObserver((entries) => {\n        const target = entries[0];\n        if (target.isIntersecting && !loading && !hasEndingPosts) {\n          setCurrentPage((oldPage) => oldPage + 1);\n        }\n      }, options);\n    \n    return observer;\n}"],"mappings":"AACA,SAASA,kBAAkB,QAAQ,+BAA+B;AAElE,OAAO,eAAeC,gBAAgBA,CAAE;EAACC,WAAW;EAACC,WAAW;EAACC;AAAiB,CAAC,EAAC;EAChF,MAAMC,WAAW,GAAG,MAAML,kBAAkB,CAACG,WAAW,EAAE,CAAC,CAAC;EAC5DD,WAAW,CAAEI,WAAW,IAAK,CAAC,GAAGA,WAAW,EAAE,GAAGD,WAAW,CAAC,CAAC;EAC9D,IAAGA,WAAW,CAACE,MAAM,GAAE,CAAC,EAAC;IACrBH,iBAAiB,CAAC,IAAI,CAAC;EAC3B;AACJ;AAEA,OAAO,SAASI,YAAYA,CAAC;EAACC,OAAO;EAAEC,OAAO;EAAEC,cAAc;EAAEC;AAAc,CAAC,EAAC;EAC5E,MAAMC,QAAQ,GAAG,IAAIC,oBAAoB,CAAEC,OAAO,IAAK;IACnD,MAAMC,MAAM,GAAGD,OAAO,CAAC,CAAC,CAAC;IACzB,IAAIC,MAAM,CAACC,cAAc,IAAI,CAACP,OAAO,IAAI,CAACC,cAAc,EAAE;MACxDC,cAAc,CAAEM,OAAO,IAAKA,OAAO,GAAG,CAAC,CAAC;IAC1C;EACF,CAAC,EAAET,OAAO,CAAC;EAEb,OAAOI,QAAQ;AACnB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}